<meta charset="UTF-8">
<!-- 차트라이브러리 가져오기, CDN (Content Delivery Network) -->
<!-- 데이타시각화에 많이 사용되는 언어 R -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.js"></script>
<body>
    <!-- canvas 바깥에서 canvas영역을 제한함 -->
    <div style="width:600px;height:400px">
         <canvas id="myChart"></canvas>
   </div>
   <input type=button value="확인" onclick="f_check()">
<script>
    function f_ranData(){
        return Math.floor(Math.random()*16) + 4;
    }
    function f_check(){
        // 데이타 값에 접근
        var v_data = myChart.data.datasets[0].data;
        for(var i=0; i<v_data.length; i++){
            v_data[i] = f_ranData();
        } 
        // 값이 바뀌었는지 확인, 화면이 안 바뀜, 차트 다시 그려야 함!
        //alert(myChart.data.datasets[0].data);
        myChart.update();  // 다시 그리기 (re rendering)
        setTimeout(f_check,500); // 춤추기
    }
var ctx = document.getElementById('myChart').getContext('2d'); 
// webGL
var myChart = new Chart(ctx, {
    type: 'line',  // 보통 bar,line,pie, doughnut....
    data: {
        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
        datasets: [{
            label: '# of Votes',
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        },
        {
            type:"bar",  // bar와 line은 mix가능
            label: '# of Votes2',
            data: [2, 9, 13, 15, 12, 13],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    max: 21,             // y축 최대
                    min: 0,               // y축 최소
                    stepSize: 1.5,         // 간격
                    beginAtZero: false
                }
            }]
        }
    }
});
</script>
</body>